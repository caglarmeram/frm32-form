<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HSE Capability Assessment - FRM-0032</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .language-selector {
            position: absolute;
            top: 20px;
            right: 30px;
            display: flex;
            gap: 10px;
        }

        .lang-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .lang-btn.active, .lang-btn:hover {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.6);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.2em;
        }

        .progress-container {
            background: white;
            padding: 20px 40px;
            border-bottom: 1px solid #e1e5e9;
        }

        .progress-text {
            text-align: center;
            margin-bottom: 10px;
            color: #666;
            font-weight: 500;
        }

        .progress-bar {
            background: #e1e5e9;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, #28a745, #20c997);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        .form-container {
            padding: 40px;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            display: none;
            text-align: center;
            font-size: 1.1em;
            font-weight: 500;
        }

        /* Basic Info Section */
        .basic-info {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 5px solid #2a5298;
        }

        .basic-info h3 {
            color: #1e3c72;
            margin-bottom: 20px;
            font-size: 1.4em;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
            font-size: 1.1em;
        }

        .form-group input, 
        .form-group select, 
        .form-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-group input:focus, 
        .form-group select:focus, 
        .form-group textarea:focus {
            outline: none;
            border-color: #2a5298;
            box-shadow: 0 0 0 3px rgba(42, 82, 152, 0.1);
        }

        .required {
            color: #dc3545;
        }

        /* Documents Section */
        .documents-section {
            margin-bottom: 40px;
        }

        .documents-section h3 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .documents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .document-item.required {
            background:#fff5f5;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            padding: 15px;
            transition: all 0.3s ease;
        }

        .document-item.required:hover {
            border-color: #e53e3e;
            box-shadow: 0 5px 15px rgba(229, 62, 62, 0.08);
        }

   .document-item.optional:hover {
            border-color: #fed7aa;
            box-shadow: 0 5px 15px rgba(245, 158, 11, 0.3);
        }

.document-item.optional {
    background: #fffbeb;
    border: 2px solid #fed7aa;   /* Kenarlık ekle */
    border-radius: 8px;          /* Köşe yuvarla */
    padding: 15px;               /* İç boşluk ekle */
    transition: all 0.3s ease;   /* Hover geçişleri için */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

        .document-header {
            display: flex;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .document-item.required .document-number {
    background: #e53e3e;
}

.document-item.required .document-status.required {
    color: #e53e3e;
}
.document-item.optional .document-number.optional {
    background: #f59e0b;
}

        .document-number {
            background: #2a5298;
            color: white;
            padding: 6px 10px;
            border-radius: 4px;
            font-weight: 600;
            margin-right: 12px;
            min-width: 45px;
            text-align: center;
            font-size: 0.9em;
        }

        .document-number.optional {
            background: #28a745;
        }

        .document-title {
            flex: 1;
        }

        .document-title-main {
            font-weight: 600;
            color: #333;
            font-size: 1em;
            line-height: 1.3;
        }

        .document-status {
            font-size: 0.8em;
            color: #28a745;
            font-weight: 500;
            margin-top: 2px;
        }

        .document-status.required {
            color: #dc3545;
        }

        .document-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .upload-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .upload-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(40, 167, 69, 0.3);
        }

        .file-info {
            font-size: 0.8em;
            color: #666;
            background: #f8f9fa;
            padding: 6px;
            border-radius: 4px;
            display: none;
            flex: 1;
        }

        .file-info.show {
            display: block;
        }

        /* Questions Section */
        .section-container {
            margin-bottom: 40px;
        }

        .section-header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 20px;
            font-size: 1.3em;
            font-weight: 600;
            text-align: center;
            border-radius: 10px 10px 0 0;
        }

        .subsection {
            background: white;
            border: 2px solid #e1e5e9;
            border-top: none;
            margin-bottom: 0;
        }

        .subsection:last-child {
            border-radius: 0 0 10px 10px;
        }

        .subsection-header {
            background: #f8f9fa;
            color: #1e3c72;
            padding: 15px 20px;
            font-size: 1.1em;
            font-weight: 600;
            border-bottom: 1px solid #e1e5e9;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .subsection-weight {
            background: #2a5298;
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 500;
        }

        .subsection-content {
            padding: 20px;
        }

        .question-item {
            background: #f8f9fa;
            border: 1px solid #e1e5e9;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }

        .question-item:hover {
            border-color: #2a5298;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        .question-header {
            display: flex;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .question-number {
            background: #2a5298;
            color: white;
            padding: 6px 10px;
            border-radius: 4px;
            font-weight: 600;
            margin-right: 12px;
            font-size: 0.85em;
            min-width: 70px;
            text-align: center;
        }

        .question-text {
            flex: 1;
            font-size: 1em;
            font-weight: 500;
            color: #333;
            line-height: 1.4;
        }

        .question-response {
            margin-top: 12px;
        }

        .response-textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 4px;
            font-family: inherit;
            font-size: 14px;
            resize: vertical;
            line-height: 1.4;
        }

        .response-textarea:focus {
            border-color: #2a5298;
            box-shadow: 0 0 0 3px rgba(42, 82, 152, 0.1);
            outline: none;
        }

        .char-count {
            font-size: 0.75em;
            color: #666;
            text-align: right;
            margin-top: 4px;
        }

        /* Submit Button */
        .submit-container {
            background: #f8f9fa;
            padding: 30px;
            border-top: 1px solid #e1e5e9;
            text-align: center;
        }

        .submit-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border: none;
            padding: 20px 50px;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
        }

        .submit-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Language specific content */
        .lang-en { display: block; }
        .lang-tr { display: none; }
        
        body.turkish .lang-en { display: none; }
        body.turkish .lang-tr { display: block; }

        /* Responsive */
        @media (max-width: 768px) {
            .documents-grid, .info-grid {
                grid-template-columns: 1fr;
            }

            .container {
                margin: 10px;
                border-radius: 10px;
            }

            .form-container {
                padding: 20px;
            }

            .language-selector {
                position: relative;
                top: auto;
                right: auto;
                justify-content: center;
                margin-top: 15px;
            }

            .document-controls {
                flex-direction: column;
                align-items: stretch;
                gap: 8px;
            }
        }

        .completion-summary {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
            text-align: center;
        }

        .completion-summary h3 {
            margin-bottom: 12px;
            font-size: 1.4em;
        }
        /* Bu CSS kuralları eksik - eklenecek */
.loading-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    z-index: 10000;
    justify-content: center;
    align-items: center;
}

.loading-content {
    background: white;
    padding: 30px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

.spinner {
    border: 4px solid #f3f3f3;
    border-top: 4px solid #2a5298;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
    margin: 0 auto 20px;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

.error-message {
    background: #f8d7da;
    color: #721c24;
    padding: 20px;
    border-radius: 8px;
    margin: 20px 0;
    display: none;
    text-align: center;
    font-size: 1.1em;
    font-weight: 500;
    border: 1px solid #f5c6cb;
}
    </style>
</head>
<body>

<!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <h3>
                <span class="lang-en">Submitting Assessment...</span>
                <span class="lang-tr">Değerlendirme Gönderiliyor...</span>
            </h3>
            <p>
                <span class="lang-en">Please wait while we process your submission</span>
                <span class="lang-tr">Gönderinizi işlerken lütfen bekleyin</span>
            </p>
        </div>
    </div>


    <div class="container">
        <div class="header">
            <div class="language-selector">
                <button class="lang-btn active" onclick="setLanguage('en')">English</button>
                <button class="lang-btn" onclick="setLanguage('tr')">Türkçe</button>
            </div>
            <h1>
            <span class="lang-en">HSE Capability Assessment</span>
            <span class="lang-tr">İSGÇ Yeterlilik Değerlendirmesi</span>
            </h1>
            <p class="lang-en">FRM-0032: Contractor Health, Safety & Environmental Assessment Form</p>
            <p class="lang-tr">FRM-0032: Yüklenici Sağlık, Güvenlik ve Çevre Değerlendirme Formu</p>
        </div>

        <div class="progress-container">
            <div class="progress-text">
                <span class="lang-en">Assessment Progress</span>
                <span class="lang-tr">Değerlendirme İlerlemesi</span>
                <span id="progressText">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <form class="form-container" id="hseForm" name="frm32" method="POST" action="https://9tml6o6w.rpcld.cc/webhook/submit-frm32" enctype="multipart/form-data" data-netlify="false">
<!--           <input type="hidden" name="form-name" value="frm32" />
            <input type="hidden" name="form-id" id="formId" />
            <input type="hidden" name="form-version" value="2.0" /> -->

            <div class="success-message" id="successMessage">
                <span class="lang-en">✅ Assessment submitted successfully! Form ID: <strong id="generatedFormId"></strong></span>
                <span class="lang-tr">✅ Değerlendirme başarıyla gönderildi! Form Kimliği: <strong id="generatedFormIdTr"></strong></span>
            </div>

            <div class="error-message" id="errorMessage">
                <span class="lang-en">❌ Error submitting form. Please try again.</span>
                <span class="lang-tr">❌ Form gönderilirken hata oluştu. Lütfen tekrar deneyin.</span>
            </div>

            <!-- Basic Information -->
            <div class="basic-info">
                <h3>
                    <span class="lang-en">Company Information</span>
                    <span class="lang-tr">Şirket Bilgileri</span>
                </h3>
                <div class="info-grid">
                    <div class="form-group">
                        <label>
                            <span class="lang-en">Contractor Name <span class="required">*</span></span>
                            <span class="lang-tr">Yüklenici Firma Adı <span class="required">*</span></span>
                        </label>
                        <input type="text" id="contractorName" name="contractor_name" required>
                    </div>
                    <div class="form-group">
                        <label>
                            <span class="lang-en">Date of Assessment <span class="required">*</span></span>
                            <span class="lang-tr">Değerlendirme Tarihi <span class="required">*</span></span>
                        </label>
                        <input type="date" id="assessmentDate" name="assessment_date" required>
                    </div>
                    <div class="form-group">
                        <label>
                            <span class="lang-en">Completed By <span class="required">*</span></span>
                            <span class="lang-tr">Formu Dolduran <span class="required">*</span></span>
                        </label>
                        <input type="text" id="completedBy" name="completed_by" required>
                    </div>
                    <div class="form-group">
                        <label>
                            <span class="lang-en">Tax Identification Number (TIN) <span class="required">*</span></span>
                            <span class="lang-tr">Vergi Numarası <span class="required">*</span></span>
                        </label>
                        <input type="text" id="taxNumber" name="tax_number" required pattern="[0-9]{10,11}" title="10-11 digits only" onblur="generateFormId()">
                    </div>
                </div>
            </div>

            <!-- Document Requirements - All 18 Documents in Correct Order -->
            <div class="documents-section">
                <h3>
                    <span class="lang-en">Required Documents (18 Total)</span>
                    <span class="lang-tr">Gerekli Belgeler (Toplam 18)</span>
                </h3>
                <p style="color: #666; margin-bottom: 20px;">
                    <span class="lang-en">Upload required documents. Optional documents can improve your assessment score.</span>
                    <span class="lang-tr">Zorunlu belgeleri yükleyin. Opsiyonel belgeler değerlendirme puanınızı artırabilir.</span>
                </p>

                <div class="documents-grid">
                    <!-- Document 1 - HSE Policy (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">1</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">HSE Policy</span>
                                    <span class="lang-tr">İSGÇ Politikası</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc1" name="document_1" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 1)" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc1').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo1">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 2 - ISO Certificates (Optional) -->
                    <div class="document-item optional">
                        <div class="document-header">
                            <div class="document-number optional">2</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">ISO Certificates</span>
                                    <span class="lang-tr">ISO Sertifikaları</span>
                                </div>
                                <div class="document-status">OPTIONAL/OPSİYONEL</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc2" name="document_2" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 2)">
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc2').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo2">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 3 - HSE Management System Document (Optional) -->
                    <div class="document-item optional">
                        <div class="document-header">
                            <div class="document-number optional">3</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">HSE Management System Document</span>
                                    <span class="lang-tr">İSGÇ Yönetim Sistemi Dokümanı</span>
                                </div>
                                <div class="document-status">OPTIONAL/OPSİYONEL</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc3" name="document_3" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 3)">
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc3').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo3">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 4 - HSE Organization Chart (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">4</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">HSE Organization Chart</span>
                                    <span class="lang-tr">İSGÇ Organizasyon Şeması</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc4" name="document_4" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 4)" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc4').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo4">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 5 - Company Organization Chart (Optional) -->
                    <div class="document-item optional">
                        <div class="document-header">
                            <div class="document-number optional">5</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Company Organization Chart</span>
                                    <span class="lang-tr">Şirket Organizasyon Şeması</span>
                                </div>
                                <div class="document-status">OPTIONAL/OPSİYONEL</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc5" name="document_5" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 5)">
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc5').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo5">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 6 - CVs of HSE Officers (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">6</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">CVs of HSE Officers</span>
                                    <span class="lang-tr">İSGÇ Sorumlularının Özgeçmişleri</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc6" name="document_6" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 6)" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc6').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo6">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 7 - Training Records - Basic HSE Training (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">7</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Training Records - Basic HSE Training</span>
                                    <span class="lang-tr">Eğitim Sertifikaları ve Kayıtları - Temel Eğitim</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc7" name="document_7" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 7)" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc7').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo7">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 7.1 - Training Records - Emergency Procedures (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">7.1</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Training Records - Emergency Procedures</span>
                                    <span class="lang-tr">Eğitim Sertifikaları - Acil Durum Prosedürleri</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc71" name="document_7_1" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, '7_1')" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc71').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo7_1">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 7.2 - Training Records - Risk Assessment (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">7.2</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Training Records - Risk Assessment</span>
                                    <span class="lang-tr">Eğitim Sertifikaları - Risk Değerlendirme</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc72" name="document_7_2" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, '7_2')" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc72').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo7_2">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 7.3 - Training Records - First-aid Certificates (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">7.3</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Training Records - First-aid Certificates</span>
                                    <span class="lang-tr">Eğitim Sertifikaları - İlk Yardımcı Sertifikaları</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc73" name="document_7_3" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, '7_3')" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc73').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo7_3">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 8 - Vocational Qualification Certificates (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">8</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Vocational Qualification Certificates</span>
                                    <span class="lang-tr">Personel Mesleki Yeterlilik Belgeleri</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc8" name="document_8" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 8)" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc8').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo8">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 9 - Risk Assessment (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">9</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Risk Assessment</span>
                                    <span class="lang-tr">Risk Analizi</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc9" name="document_9" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 9)" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc9').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo9">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 10 - Emergency Response Plan (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">10</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Emergency Response Plan</span>
                                    <span class="lang-tr">Acil Durum Müdahale Planı</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc10" name="document_10" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 10)" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc10').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo10">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 11 - Contracts of Safety Expert, Doctor, Medical Staff (Optional) -->
                    <div class="document-item optional">
                        <div class="document-header">
                            <div class="document-number optional">11</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Contracts of Safety Expert, Doctor, Medical Staff</span>
                                    <span class="lang-tr">İSG Uzmanı, İşyeri Hekimi ve Sağlık Personeli Sözleşmeleri</span>
                                </div>
                                <div class="document-status">OPTIONAL/OPSİYONEL</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc11" name="document_11" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 11)">
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc11').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo11">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 12 - Equipment Maintenance & Certificates (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">12</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Equipment Maintenance & Certificates</span>
                                    <span class="lang-tr">Ekipman Bakım Programları ve Sertifikaları</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc12" name="document_12" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 12)" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc12').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo12">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 13 - Annual Training Plan (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">13</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Annual Training Plan</span>
                                    <span class="lang-tr">Yıllık Eğitim Planı</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc13" name="document_13" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 13)" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc13').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo13">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 14 - Annual Work Plan (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">14</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Annual Work Plan</span>
                                    <span class="lang-tr">Yıllık Çalışma Planı</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc14" name="document_14" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 14)" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc14').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo14">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 15 - PPE Issuance Records (Required) -->
                    <div class="document-item required">
                        <div class="document-header">
                            <div class="document-number">15</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">PPE Issuance Records</span>
                                    <span class="lang-tr">KKD Zimmet Tutanakları</span>
                                </div>
                                <div class="document-status required">REQUIRED/ZORUNLU</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc15" name="document_15" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 15)" required>
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc15').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo15">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 16 - KPI Data for the Last Year (Optional) -->
                    <div class="document-item optional">
                        <div class="document-header">
                            <div class="document-number optional">16</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">KPI Data for the Last Year</span>
                                    <span class="lang-tr">Son 1 Yıla Ait KPI Değerleri</span>
                                </div>
                                <div class="document-status">OPTIONAL/OPSİYONEL</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc16" name="document_16" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 16)">
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc16').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo16">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 17 - Subcontractor Social Security Book (Optional) -->
                    <div class="document-item optional">
                        <div class="document-header">
                            <div class="document-number optional">17</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Subcontractor Social Security Book (First Page)</span>
                                    <span class="lang-tr">Alt Yüklenici SGK Tespit ve Öneri Defteri</span>
                                </div>
                                <div class="document-status">OPTIONAL/OPSİYONEL</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc17" name="document_17" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 17)">
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc17').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo17">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>

                    <!-- Document 18 - Subcontractor Status (Optional) -->
                    <div class="document-item optional">
                        <div class="document-header">
                            <div class="document-number optional">18</div>
                            <div class="document-title">
                                <div class="document-title-main">
                                    <span class="lang-en">Subcontractor Status</span>
                                    <span class="lang-tr">Alt Yüklenici Durumu</span>
                                </div>
                                <div class="document-status">OPTIONAL/OPSİYONEL</div>
                            </div>
                        </div>
                        <div class="document-controls">
                            <input type="file" id="doc18" name="document_18" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 18)">
                            <button type="button" class="upload-btn" onclick="document.getElementById('doc18').click()">
                                <span class="lang-en">📎 Upload</span>
                                <span class="lang-tr">📎 Yükle</span>
                            </button>
                            <div class="file-info" id="fileInfo18">
                                <span class="lang-en">No file</span>
                                <span class="lang-tr">Dosya yok</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- QUESTIONS SECTION - ALL 80 QUESTIONS -->
            <!-- SECTION 1: Leadership & HSE Culture -->
            <div class="section-container">
                <div class="section-header">
                    <span class="lang-en">SECTION 1: Leadership & HSE Culture</span>
                    <span class="lang-tr">BÖLÜM 1: Liderlik ve İSGÇ Kültürü</span>
                </div>
                
                <!-- Section 1.1: Commitment to HSE aspects through leadership (Weight: 20%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">1.1: Commitment to HSE aspects through leadership</span>
                            <span class="lang-tr">1.1: Liderlik aracılığıyla İSGÇ konularına bağlılık</span>
                        </div>
                        <div class="subsection-weight">Weight: 20%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">1.1.A</div>
                                <div class="question-text">
                                    <span class="lang-en">How are senior managers personally involved in HSE management for example objective-setting and monitoring?</span>
                                    <span class="lang-tr">Üst düzey yöneticiler İSGÇ yönetiminde nasıl kişisel olarak yer alıyor (örneğin hedef belirleme ve izleme)?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_11A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">1.1.B</div>
                                <div class="question-text">
                                    <span class="lang-en">Provide evidence of commitment at all levels of the organisation?</span>
                                    <span class="lang-tr">Organizasyonun tüm seviyelerinde bağlılığın kanıtlarını sağlayın?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_11B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">1.1.C</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you promote a positive culture towards HSE matters?</span>
                                    <span class="lang-tr">İSGÇ konularına yönelik pozitif bir kültürü nasıl teşvik ediyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_11C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 2: HSE Policy & Strategic Objectives -->
            <div class="section-container">
                <div class="section-header">
                    <span class="lang-en">SECTION 2: HSE Policy & Strategic Objectives</span>
                    <span class="lang-tr">BÖLÜM 2: İSGÇ Politikası ve Stratejik Hedefler</span>
                </div>
                
                <!-- Section 2.1: HSE Policy Documents (Weight: 5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">2.1: HSE Policy Documents</span>
                            <span class="lang-tr">2.1: İSGÇ Politika Belgeleri</span>
                        </div>
                        <div class="subsection-weight">Weight: 5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">2.1.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Does your company have an HSE policy document? If the answer is YES please attach a copy.</span>
                                    <span class="lang-tr">Şirketinizin bir İSGÇ politika belgesi var mı? Cevabınız EVET ise lütfen bir kopyasını ekleyin.</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_21A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">2.1.B</div>
                                <div class="question-text">
                                    <span class="lang-en">Who has overall and final responsibility for HSE in your organisation?</span>
                                    <span class="lang-tr">Organizasyonunuzda İSGÇ için genel ve nihai sorumluluk kimin üzerindedir?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_21B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">2.1.C</div>
                                <div class="question-text">
                                    <span class="lang-en">Who is the most senior person in the organisation responsible for this policy being carried out at the premises and on site where his employees are working? Provide name and title.</span>
                                    <span class="lang-tr">Bu politikanın işyerinde ve çalışanlarının bulunduğu sahada uygulanmasından sorumlu organizasyondaki en üst düzey kişi kimdir? İsim ve unvanını belirtin.</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_21C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">2.1.D</div>
                                <div class="question-text">
                                    <span class="lang-en">Itemise the methods by which you have drawn your policy statements to the attention of all your employees?</span>
                                    <span class="lang-tr">Politika beyanlarınızı tüm çalışanlarınızın dikkatine sunduğunuz yöntemleri listeleyin?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_21D" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">2.1.E</div>
                                <div class="question-text">
                                    <span class="lang-en">What are your arrangements for advising employees of changes in the policy?</span>
                                    <span class="lang-tr">Politikadaki değişiklikleri çalışanlara bildirmek için düzenlemeleriniz nelerdir?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_21E" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 2.2: HSE contract strategic objectives (Weight: 5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">2.2: HSE Contract Strategic Objectives</span>
                            <span class="lang-tr">2.2: İSGÇ Sözleşme Stratejik Hedefleri</span>
                        </div>
                        <div class="subsection-weight">Weight: 5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">2.2.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Does your company have strategic HSE objectives? If the answer is YES please attach a copy.</span>
                                    <span class="lang-tr">Şirketinizin stratejik İSGÇ hedefleri var mı? Cevabınız EVET ise lütfen bir kopyasını ekleyin.</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_22A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>


                         <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">2.2.B</div>
                                <div class="question-text">
                                    <span class="lang-en">Does your company have strategic HSE objectives? If the answer is YES please attach a copy.</span>
                                    <span class="lang-tr">Şirketinizin stratejik İSGÇ hedefleri var mı? Cevabınız EVET ise lütfen bir kopyasını ekleyin.</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_22B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

</div>

            <!-- SECTION 3: HSE Organisation & Training -->
            <div class="section-container">
                <div class="section-header">
                    <span class="lang-en">SECTION 3: HSE Organisation & Training</span>
                    <span class="lang-tr">BÖLÜM 3: İSGÇ Organizasyonu ve Eğitim</span>
                </div>

                <!-- Section 3.1: Organisational Structure for HSE Management (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">3.1: Organisational Structure for HSE Management</span>
                            <span class="lang-tr">3.1: İSGÇ Yönetimi için Organizasyonel Yapı</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.1.A</div>
                                <div class="question-text">
                                    <span class="lang-en">How is your organisation structured to manage and communicate HSE effectively?</span>
                                    <span class="lang-tr">Organizasyonunuz İSGÇ'yi etkili bir şekilde yönetmek ve iletişim kurmak için nasıl yapılandırılmıştır?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_31A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.1.B</div>
                                <div class="question-text">
                                    <span class="lang-en">Do HSE meetings promote HSE awareness?</span>
                                    <span class="lang-tr">İSGÇ toplantıları İSGÇ farkındalığını artırıyor mu?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_31B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.1.C</div>
                                <div class="question-text">
                                    <span class="lang-en">How are HSE objectives and targets communicated to the workforce?</span>
                                    <span class="lang-tr">İSGÇ hedefleri ve amaçları işgücüne nasıl iletilir?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_31C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.1.D</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you ensure that HSE considerations are incorporated into daily work activities?</span>
                                    <span class="lang-tr">İSGÇ hususlarının günlük iş faaliyetlerine dahil edilmesini nasıl sağlarsınız?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_31D" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">3.2: HSE Training of Managers, Supervisors and HSE Critical Positions</span>
                            <span class="lang-tr">3.2: Yöneticiler, Süpervizörler ve İSGÇ Kritik Pozisyonların İSGÇ Eğitimi</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.2.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Have the managers and supervisors at all levels who will plan, monitor, oversee and carry out the work received HSE training?</span>
                                    <span class="lang-tr">İşi planlayacak, izleyecek, denetleyecek ve yürütecek tüm seviyelerdeki yöneticiler ve süpervizörler İSGÇ eğitimi aldı mı?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_32A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.2.B</div>
                                <div class="question-text">
                                    <span class="lang-en">If YES please give details. Where the training is given in-house please describe the content and duration of the training?</span>
                                    <span class="lang-tr">EVET ise lütfen ayrıntıları verin. Eğitim şirket içinde veriliyorsa, eğitimin içeriğini ve süresini açıklayın?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_32B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.2.C</div>
                                <div class="question-text">
                                    <span class="lang-en">What HSE training do you provide to new management and supervisory staff?</span>
                                    <span class="lang-tr">Yeni yönetim ve süpervizör personeline hangi İSGÇ eğitimini sağlarsınız?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_32C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.2.D</div>
                                <div class="question-text">
                                    <span class="lang-en">What refresher training is provided and how often?</span>
                                    <span class="lang-tr">Hangi tazeleme eğitimi sağlanır ve ne sıklıkla?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_32D" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.2.E</div>
                                <div class="question-text">
                                    <span class="lang-en">What training records are maintained?</span>
                                    <span class="lang-tr">Hangi eğitim kayıtları tutulur?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_32E" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 3.3: General HSE training (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">3.3: General HSE Training</span>
                            <span class="lang-tr">3.3: Genel İSGÇ Eğitimi</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.3.A</div>
                                <div class="question-text">
                                    <span class="lang-en">What arrangements does your company have to ensure new employees have knowledge of hazards, risks, controls, procedures, etc?</span>
                                    <span class="lang-tr">Şirketinizin yeni çalışanların tehlikeler, riskler, kontroller, prosedürler vb. hakkında bilgi sahibi olmasını sağlamak için hangi düzenlemeleri var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_33A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.3.B</div>
                                <div class="question-text">
                                    <span class="lang-en">What refresher training do you provide and how often?</span>
                                    <span class="lang-tr">Hangi tazeleme eğitimi sağlıyorsunuz ve ne sıklıkla?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_33B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.3.C</div>
                                <div class="question-text">
                                    <span class="lang-en">What training records are maintained?</span>
                                    <span class="lang-tr">Hangi eğitim kayıtları tutulur?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_33C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 3.4: Competence assurance (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">3.4: Competence Assurance</span>
                            <span class="lang-tr">3.4: Yeterlilik Güvencesi</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.4.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Does your organisation have a competence system in place? If YES, please describe how the system works and what it covers?</span>
                                    <span class="lang-tr">Organizasyonunuzda bir yeterlilik sistemi var mı? EVET ise, sistemin nasıl çalıştığını ve neyi kapsadığını açıklayın?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_34A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.4.B</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you assess competence and manage any gaps identified?</span>
                                    <span class="lang-tr">Yeterliliği nasıl değerlendiriyorsunuz ve belirlenen boşlukları nasıl yönetiyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_34B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 3.5: Contractor management process (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">3.5: Contractor Management Process</span>
                            <span class="lang-tr">3.5: Yüklenici Yönetim Süreci</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.5.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Does your company have a contractor management process or system? If yes, provide details?</span>
                                    <span class="lang-tr">Şirketinizin bir yüklenici yönetim süreci veya sistemi var mı? Evet ise ayrıntıları sağlayın?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_35A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.5.B</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you select contractors and subcontractors?</span>
                                    <span class="lang-tr">Yüklenicileri ve alt yüklenicileri nasıl seçiyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_35B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.5.C</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you monitor contractor HSE performance?</span>
                                    <span class="lang-tr">Yüklenici İSGÇ performansını nasıl izliyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_35C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.5.D</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you communicate HSE requirements to contractors?</span>
                                    <span class="lang-tr">İSGÇ gereksinimlerini yüklenicilere nasıl iletiyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_35D" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 3.6: HSE standards (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">3.6: HSE Standards</span>
                            <span class="lang-tr">3.6: İSGÇ Standartları</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.6.A</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you identify new industry or regulatory standards that may be applicable to your organisation and operations?</span>
                                    <span class="lang-tr">Organizasyonunuz ve operasyonlarınız için geçerli olabilecek yeni endüstri veya düzenleyici standartları nasıl belirlersiniz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_36A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.6.B</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you ensure compliance with applicable HSE standards and regulations?</span>
                                    <span class="lang-tr">Geçerli İSGÇ standartları ve düzenlemelerine uyumu nasıl sağlıyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_36B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">3.6.C</div>
                                <div class="question-text">
                                    <span class="lang-en">What process do you have for updating your HSE management system when standards change?</span>
                                    <span class="lang-tr">Standartlar değiştiğinde İSGÇ yönetim sisteminizi güncelleme için hangi süreciniz var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_36C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 4: Risk Assessment & Hazard Management -->
            <div class="section-container">
                <div class="section-header">
                    <span class="lang-en">SECTION 4: Risk Assessment & Hazard Management</span>
                    <span class="lang-tr">BÖLÜM 4: Risk Değerlendirmesi ve Tehlike Yönetimi</span>
                </div>

                <!-- Section 4.1: Risk Assessment & Control (Weight: 5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">4.1: Risk Assessment & Control</span>
                            <span class="lang-tr">4.1: Risk Değerlendirmesi ve Kontrolü</span>
                        </div>
                        <div class="subsection-weight">Weight: 5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.1.A</div>
                                <div class="question-text">
                                    <span class="lang-en">How does your company identify hazards, assess risk, control and mitigation consideration in line with the scope of services your company provides?</span>
                                    <span class="lang-tr">Şirketiniz, sağladığı hizmetlerin kapsamına uygun olarak tehlikeleri nasıl belirler, riski değerlendirir, kontrol ve azaltma hususlarını nasıl ele alır?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_41A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

</div>

                <!-- Section 4.2: Health Hazards (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">4.2: Health Hazards</span>
                            <span class="lang-tr">4.2: Sağlık Tehlikeleri</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.2.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Do you have specific policies and programmes on specific health hazards e.g. substance abuse, noise, hazardous substances, ergonomics etc.?</span>
                                    <span class="lang-tr">Belirli sağlık tehlikeleri (örneğin madde bağımlılığı, gürültü, tehlikeli maddeler, ergonomi vb.) konusunda özel politika ve programlarınız var mı?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_42A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.2.B</div>
                                <div class="question-text">
                                    <span class="lang-en">What type of health hazards are associated with the scope of your services?</span>
                                    <span class="lang-tr">Hizmetlerinizin kapsamıyla ilişkili hangi tür sağlık tehlikeleri var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_42B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.2.C</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you monitor and control health hazards in the workplace?</span>
                                    <span class="lang-tr">İşyerindeki sağlık tehlikelerini nasıl izler ve kontrol edersiniz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_42C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 4.3: Safety Hazards (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">4.3: Safety Hazards</span>
                            <span class="lang-tr">4.3: Güvenlik Tehlikeleri</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.3.A</div>
                                <div class="question-text">
                                    <span class="lang-en">What type of safety hazards (mechanical guarding, work at height, lifting and hoisting, electrical, confined spaces etc.) are associated with the scope of your services?</span>
                                    <span class="lang-tr">Hizmetlerinizin kapsamıyla ilişkili hangi tür güvenlik tehlikeleri (mekanik koruma, yüksekte çalışma, kaldırma ve kaldırıcı, elektriksel, kapalı alanlar vb.) var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_43A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.3.B</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you control these safety hazards?</span>
                                    <span class="lang-tr">Bu güvenlik tehlikelerini nasıl kontrol ediyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_43B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 4.4: Logistics Hazards (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">4.4: Logistics Hazards</span>
                            <span class="lang-tr">4.4: Lojistik Tehlikeler</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.4.A</div>
                                <div class="question-text">
                                    <span class="lang-en">What type of logistics hazards (land transport, air transport, marine transport, storage and warehousing etc.) are associated with the scope of your services?</span>
                                    <span class="lang-tr">Hizmetlerinizin kapsamıyla ilişkili hangi tür lojistik tehlikeler (kara taşımacılığı, hava taşımacılığı, deniz taşımacılığı, depolama ve ambarlama vb.) var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_44A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.4.B</div>
                                <div class="question-text">
                                    <span class="lang-en">What systems are in place to control these hazards and monitor the effectiveness of these controls?</span>
                                    <span class="lang-tr">Bu tehlikeleri kontrol altına almak ve bu kontrollerin etkinliğini izlemek için hangi sistemler mevcuttur?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_44B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 4.5: Environmental Hazards (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">4.5: Environmental Hazards</span>
                            <span class="lang-tr">4.5: Çevresel Tehlikeler</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.5.A</div>
                                <div class="question-text">
                                    <span class="lang-en">What type of environmental hazards (chemical spill, atmospheric emissions, waste discharge etc.) are associated with the scope of your services?</span>
                                    <span class="lang-tr">Hizmetlerinizin kapsamıyla ilişkili hangi tür çevresel tehlikeler (kimyasal sızıntı, atmosferik emisyonlar, atık deşarjı vb.) var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_45A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.5.B</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you control these environmental hazards?</span>
                                    <span class="lang-tr">Bu çevresel tehlikeleri nasıl kontrol ediyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_45B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 4.6: Security Hazards (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">4.6: Security Hazards</span>
                            <span class="lang-tr">4.6: Güvenlik Tehlikeleri</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.6.A</div>
                                <div class="question-text">
                                    <span class="lang-en">What type of security hazards (terrorism, hostage taking, robbery, hostile local population, civil unrest etc.) are associated with the scope of your services?</span>
                                    <span class="lang-tr">Hizmetlerinizin kapsamıyla ilişkili hangi tür güvenlik tehlikeleri (terörizm, rehin alma, soygun, düşman yerel nüfus, sivil karışıklık vb.) var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_46A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.6.B</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you control these security hazards?</span>
                                    <span class="lang-tr">Bu güvenlik tehlikelerini nasıl kontrol ediyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_46B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 4.7: Social Responsibility Hazards (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">4.7: Social Responsibility Hazards</span>
                            <span class="lang-tr">4.7: Sosyal Sorumluluk Tehlikeleri</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.7.A</div>
                                <div class="question-text">
                                    <span class="lang-en">What type of social hazards are associated with the scope of your services?</span>
                                    <span class="lang-tr">Hizmetlerinizin kapsamıyla ilişkili hangi tür sosyal tehlikeler var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_47A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">4.7.B</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you control these social hazards?</span>
                                    <span class="lang-tr">Bu sosyal tehlikeleri nasıl kontrol ediyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_47B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 5: HSE Operations & Management of Change -->
            <div class="section-container">
                <div class="section-header">
                    <span class="lang-en">SECTION 5: HSE Operations & Management of Change</span>
                    <span class="lang-tr">BÖLÜM 5: İSGÇ Operasyonları ve Değişiklik Yönetimi</span>
                </div>

                <!-- Section 5.1: HSE Operations Manual (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">5.1: HSE Operations Manual</span>
                            <span class="lang-tr">5.1: İSGÇ Operasyon Kılavuzu</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">5.1.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Do you have a company HSE-MS manual (or operations manual with integrated HSE requirements)? If the answer is YES please attach a copy.</span>
                                    <span class="lang-tr">Şirket İSGÇ-YS kılavuzunuz (veya entegre İSGÇ gereksinimleri olan operasyon kılavuzu) var mı? Cevabınız EVET ise lütfen bir kopyasını ekleyin.</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_51A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 5.2: Infrastructure and Equipment Integrity (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">5.2: Infrastructure and Equipment Integrity</span>
                            <span class="lang-tr">5.2: Altyapı ve Ekipman Bütünlüğü</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">5.2.A</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you ensure that infrastructure, plant and equipment used within your operations meet the required HSE standards and are maintained in safe working condition?</span>
                                    <span class="lang-tr">Operasyonlarınızda kullanılan altyapı, tesis ve ekipmanın gerekli İSGÇ standartlarını karşıladığından ve güvenli çalışma durumunda tutulduğundan nasıl emin oluyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_52A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 5.3: Management of Change (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">5.3: Management of Change</span>
                            <span class="lang-tr">5.3: Değişiklik Yönetimi</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">5.3.A</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you manage changes and assess associated risks e.g. personnel, equipment, procedures, organisation, etc.?</span>
                                    <span class="lang-tr">Değişiklikleri nasıl yönetir ve ilişkili riskleri (personel, ekipman, prosedürler, organizasyon vb.) nasıl değerlendirirsiniz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_53A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>
                        

                     <!-- Section 5.4: Emergency Planning and Response (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">5.4: Emergency Planning and Response</span>
                            <span class="lang-tr">5.4: Acil Durum Planlaması ve Müdahalesi</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">5.4.A</div>
                                <div class="question-text">
                                    <span class="lang-en">What arrangements does your company have for emergency planning and response?</span>
                                    <span class="lang-tr">Şirketinizin acil durum planlaması ve müdahalesi için hangi düzenlemeleri var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_54A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">5.4.B</div>
                                <div class="question-text">
                                    <span class="lang-en">How often do you test your emergency response procedures?</span>
                                    <span class="lang-tr">Acil durum müdahale prosedürlerinizi ne sıklıkla test ediyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_54B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 6: Performance Monitoring & Incident Management -->
            <div class="section-container">
                <div class="section-header">
                    <span class="lang-en">SECTION 6: Performance Monitoring & Incident Management</span>
                    <span class="lang-tr">BÖLÜM 6: Performans İzleme ve Olay Yönetimi</span>
                </div>

                <!-- Section 6.1: HSE-MS Implementation and Active Performance Monitoring (Weight: 5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">6.1: HSE-MS Implementation and Active Performance Monitoring</span>
                            <span class="lang-tr">6.1: İSGÇ-YS Uygulaması ve Aktif Performans İzleme</span>
                        </div>
                        <div class="subsection-weight">Weight: 5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.1.A</div>
                                <div class="question-text">
                                    <span class="lang-en">What arrangements does your organisation have for monitoring the implementation and operation of the HSE-MS?</span>
                                    <span class="lang-tr">Organizasyonunuzun İSGÇ-YS'nin uygulanması ve işletilmesini izlemek için hangi düzenlemeleri var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_61A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.1.B</div>
                                <div class="question-text">
                                    <span class="lang-en">What arrangements does your organisation have for monitoring HSE performance?</span>
                                    <span class="lang-tr">Organizasyonunuzun İSGÇ performansını izlemek için hangi düzenlemeleri var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_61B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.1.C</div>
                                <div class="question-text">
                                    <span class="lang-en">What arrangements does your organisation have for workplace inspection?</span>
                                    <span class="lang-tr">Organizasyonunuzun işyeri denetimi için hangi düzenlemeleri var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_61C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.1.D</div>
                                <div class="question-text">
                                    <span class="lang-en">What arrangements does your organisation have for safety observation programmes?</span>
                                    <span class="lang-tr">Organizasyonunuzun güvenlik gözlem programları için hangi düzenlemeleri var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_61D" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.1.E</div>
                                <div class="question-text">
                                    <span class="lang-en">What arrangements does your organisation have for environmental monitoring?</span>
                                    <span class="lang-tr">Organizasyonunuzun çevresel izleme için hangi düzenlemeleri var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_61E" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.1.F</div>
                                <div class="question-text">
                                    <span class="lang-en">What arrangements does your organisation have for health surveillance?</span>
                                    <span class="lang-tr">Organizasyonunuzun sağlık gözetimi için hangi düzenlemeleri var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_61F" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 6.2: Safety Performance Indicators (Weight: 5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">6.2: Safety Performance Indicators</span>
                            <span class="lang-tr">6.2: Güvenlik Performans Göstergeleri</span>
                        </div>
                        <div class="subsection-weight">Weight: 5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.2.A</div>
                                <div class="question-text">
                                    <span class="lang-en">See separate spreadsheet called Contractor Assessment KPI Data</span>
                                    <span class="lang-tr">Yüklenici Değerlendirme KPI Verileri adlı ayrı elektronik tabloyu görün</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_62A" class="response-textarea" placeholder="Please provide KPI data and performance indicators... / Lütfen KPI verileri ve performans göstergelerini sağlayın..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 6.3: HSE Performance Monitoring (Weight: 5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">6.3: HSE Performance Monitoring</span>
                            <span class="lang-tr">6.3: İSGÇ Performans İzleme</span>
                        </div>
                        <div class="subsection-weight">Weight: 5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.3.A</div>
                                <div class="question-text">
                                    <span class="lang-en">How is health performance monitored and recorded?</span>
                                    <span class="lang-tr">Sağlık performansı nasıl izlenir ve kaydedilir?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_63A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.3.B</div>
                                <div class="question-text">
                                    <span class="lang-en">How is safety performance monitored and recorded?</span>
                                    <span class="lang-tr">Güvenlik performansı nasıl izlenir ve kaydedilir?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_63B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.3.C</div>
                                <div class="question-text">
                                    <span class="lang-en">How is environmental performance monitored and recorded?</span>
                                    <span class="lang-tr">Çevresel performans nasıl izlenir ve kaydedilir?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_63C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.3.D</div>
                                <div class="question-text">
                                    <span class="lang-en">What performance indicators do you use to monitor HSE performance?</span>
                                    <span class="lang-tr">İSGÇ performansını izlemek için hangi performans göstergelerini kullanıyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_63D" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.3.E</div>
                                <div class="question-text">
                                    <span class="lang-en">How often is performance data reviewed and what actions are taken based on the results?</span>
                                    <span class="lang-tr">Performans verileri ne sıklıkla gözden geçirilir ve sonuçlara dayalı olarak hangi eylemler alınır?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_63E" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.3.F</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you benchmark your HSE performance against industry standards?</span>
                                    <span class="lang-tr">İSGÇ performansınızı endüstri standartlarına göre nasıl kıyaslıyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_63F" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.3.G</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you communicate HSE performance results to stakeholders?</span>
                                    <span class="lang-tr">İSGÇ performans sonuçlarını paydaşlara nasıl iletiyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_63G" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 6.4: HSE Incident and Investigation Follow-up (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">6.4: HSE Incident and Investigation Follow-up</span>
                            <span class="lang-tr">6.4: İSGÇ Olayları ve Soruşturma Takibi</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.4.A</div>
                                <div class="question-text">
                                    <span class="lang-en">What types of HSE incident are investigated?</span>
                                    <span class="lang-tr">Hangi tür İSGÇ olayları soruşturulur?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_64A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.4.B</div>
                                <div class="question-text">
                                    <span class="lang-en">What is your procedure for incident investigation?</span>
                                    <span class="lang-tr">Olay soruşturması için prosedürünüz nedir?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_64B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.4.C</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you ensure that corrective actions are implemented and followed up?</span>
                                    <span class="lang-tr">Düzeltici eylemlerin uygulandığından ve takip edildiğinden nasıl emin oluyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_64C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.4.D</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you share lessons learned from incidents?</span>
                                    <span class="lang-tr">Olaylardan öğrenilen dersleri nasıl paylaşıyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_64D" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.4.E</div>
                                <div class="question-text">
                                    <span class="lang-en">What system do you have for tracking and trending incident data?</span>
                                    <span class="lang-tr">Olay verilerini izlemek ve eğilim analizi yapmak için hangi sisteminiz var?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_64E" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 6.5: Statutory Notifiable Incidents or Non-compliance Notices (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">6.5: Statutory Notifiable Incidents or Non-compliance Notices</span>
                            <span class="lang-tr">6.5: Yasal Bildirilmesi Gereken Olaylar veya Uyumsuzluk Bildirimleri</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">6.5.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Has your company suffered any statutory notifiable incidents in the last five years? If YES, please give details.</span>
                                    <span class="lang-tr">Şirketiniz son beş yılda yasal olarak bildirilmesi gereken herhangi bir olay yaşadı mı? EVET ise lütfen ayrıntıları verin.</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_65A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 7: Audit & Management Review -->
            <div class="section-container">
                <div class="section-header">
                    <span class="lang-en">SECTION 7: Audit & Management Review</span>
                    <span class="lang-tr">BÖLÜM 7: Denetim ve Yönetim İncelemesi</span>
                </div>

                <!-- Section 7.1: Audits (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">7.1: Audits</span>
                            <span class="lang-tr">7.1: Denetimler</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">7.1.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Do you have a written procedure for HSE auditing? If yes, please attach a copy.</span>
                                    <span class="lang-tr">İSGÇ denetimi için yazılı bir prosedürünüz var mı? Evet ise lütfen bir kopyasını ekleyin.</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_71A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">7.1.B</div>
                                <div class="question-text">
                                    <span class="lang-en">How often do you conduct HSE audits?</span>
                                    <span class="lang-tr">İSGÇ denetimlerini ne sıklıkla yapıyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_71B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">7.1.C</div>
                                <div class="question-text">
                                    <span class="lang-en">Who conducts the audits and what are their qualifications?</span>
                                    <span class="lang-tr">Denetimleri kim yapar ve nitelikleri nelerdir?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_71C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">7.1.D</div>
                                <div class="question-text">
                                    <span class="lang-en">How do you follow up on audit findings and ensure corrective actions are completed?</span>
                                    <span class="lang-tr">Denetim bulgularını nasıl takip ediyorsunuz ve düzeltici eylemlerin tamamlandığından nasıl emin oluyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_71D" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 7.2: Management Review and Follow-up (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">7.2: Management Review and Follow-up</span>
                            <span class="lang-tr">7.2: Yönetim İncelemesi ve Takibi</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">7.2.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Do you have a written procedure for management review of the HSE-MS? If yes, please attach a copy.</span>
                                    <span class="lang-tr">İSGÇ-YS'nin yönetim incelemesi için yazılı bir prosedürünüz var mı? Evet ise lütfen bir kopyasını ekleyin.</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_72A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">7.2.B</div>
                                <div class="question-text">
                                    <span class="lang-en">How often do you conduct management reviews of the HSE-MS?</span>
                                    <span class="lang-tr">İSGÇ-YS'nin yönetim incelemelerini ne sıklıkla yapıyorsunuz?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_72B" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>

                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">7.2.C</div>
                                <div class="question-text">
                                    <span class="lang-en">What information is considered during management review and how are decisions documented and communicated?</span>
                                    <span class="lang-tr">Yönetim incelemesi sırasında hangi bilgiler değerlendirilir ve kararlar nasıl belgelenir ve iletilir?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_72C" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SECTION 8: Certification & Additional Features -->
            <div class="section-container">
                <div class="section-header">
                    <span class="lang-en">SECTION 8: Certification & Additional Features</span>
                    <span class="lang-tr">BÖLÜM 8: Sertifikasyon ve Ek Özellikler</span>
                </div>

                <!-- Section 8.1: Certification of your HSE-MS (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">8.1: Certification of your HSE-MS</span>
                            <span class="lang-tr">8.1: İSGÇ-YS'nizin Sertifikasyonu</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">8.1.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Please provide information on any certification which you have received from certification bodies for your HSE-MS (e.g. ISO 14001, OHSAS 18001, ISO 45001, etc.). If you have certificates, please attach copies.</span>
                                    <span class="lang-tr">İSGÇ-YS'niz için sertifikasyon kuruluşlarından aldığınız herhangi bir sertifikasyon hakkında bilgi verin (örneğin ISO 14001, OHSAS 18001, ISO 45001 vb.). Sertifikalarınız varsa lütfen kopyalarını ekleyin.</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_81A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 8.2: Membership of Associations (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">8.2: Membership of Associations</span>
                            <span class="lang-tr">8.2: Dernek Üyelikleri</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">8.2.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Describe the nature and extent of your company's participation in relevant industry associations, professional bodies, or HSE forums.</span>
                                    <span class="lang-tr">Şirketinizin ilgili endüstri dernekleri, meslek kuruluşları veya İSGÇ forumlarına katılımının niteliğini ve kapsamını açıklayın.</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_82A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 8.3: Additional Features of your HSE-MS (Weight: 2.5%) -->
                <div class="subsection">
                    <div class="subsection-header">
                        <div>
                            <span class="lang-en">8.3: Additional Features of your HSE-MS</span>
                            <span class="lang-tr">8.3: İSGÇ-YS'nizin Ek Özellikleri</span>
                        </div>
                        <div class="subsection-weight">Weight: 2.5%</div>
                    </div>
                    <div class="subsection-content">
                        <div class="question-item">
                            <div class="question-header">
                                <div class="question-number">8.3.A</div>
                                <div class="question-text">
                                    <span class="lang-en">Does your organisation (globally, regionally or locally) have any HSE features or achievements which may be of relevance (e.g. awards, recognition, innovative practices, sustainability initiatives, etc.)?</span>
                                    <span class="lang-tr">Organizasyonunuzun (küresel, bölgesel veya yerel olarak) alakalı olabilecek herhangi bir İSGÇ özelliği veya başarısı var mı (örneğin ödüller, tanınma, yenilikçi uygulamalar, sürdürülebilirlik girişimleri vb.)?</span>
                                </div>
                            </div>
                            <div class="question-response">
                                <textarea name="question_83A" class="response-textarea" placeholder="Please provide a detailed response... / Lütfen detaylı bir yanıt verin..." required onkeyup="updateCharCount(this)"></textarea>
                                <div class="char-count">0 characters</div>
                            </div>
                        </div>
                    </div>
                </div>
                </div>

            <!-- Final Summary -->
            <div class="completion-summary">
                <h3 style="margin-bottom: 15px; font-size: 1.5em;">
                    <span class="lang-en">🎯 Assessment Complete</span>
                    <span class="lang-tr">🎯 Değerlendirme Tamamlandı</span>
                </h3>
                <p style="opacity: 0.9; font-size: 1.1em; margin-bottom: 10px;">
                    <span class="lang-en">You have completed all 8 sections with 80 questions and 18 document uploads</span>
                    <span class="lang-tr">80 soru ve 18 belge yüklemesi ile 8 bölümü tamamladınız</span>
                </p>
                <p style="opacity: 0.8; font-size: 1em;">
                    <span class="lang-en">Please review your responses before submitting</span>
                    <span class="lang-tr">Göndermeden önce lütfen yanıtlarınızı gözden geçirin</span>
                </p>
            </div>

            <!-- Submit Button -->
            <div class="submit-container">
                <button type="submit" class="submit-btn">
                    <span class="lang-en">🚀 Submit HSE Assessment</span>
                    <span class="lang-tr">🚀 İSGÇ Değerlendirmesini Gönder</span>
                </button>
                <p style="color: #666; margin-top: 15px; text-align: center;">
                    <span class="lang-en">Form ID will be automatically generated upon submission</span>
                    <span class="lang-tr">Form kimliği gönderimde otomatik olarak oluşturulacak</span>
                </p>
            </div>
        </form>
        </div>
    
    <!-- Supabase JavaScript Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <script>
        // Supabase Configuration
        const SUPABASE_URL = 'https://iztxvbbqhwdkbfhoznbs.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml6dHh2YmJxaHdka2JmaG96bmJzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM2ODEzMzEsImV4cCI6MjA0OTI1NzMzMX0.EYkgLRmxFu_tNFobf0UdOaVXtZ_O0K4obQmBJSX8y3E';
        
        // Initialize Supabase client
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        // Language switching function
        function setLanguage(lang) {
            const body = document.body;
            const langButtons = document.querySelectorAll('.lang-btn');
            
            langButtons.forEach(btn => btn.classList.remove('active'));
            
            if (typeof event !== 'undefined' && event.target) {
                event.target.classList.add('active');
            } else {
                document.querySelectorAll('.lang-btn').forEach(btn => {
                    if ((lang === 'en' && btn.textContent === 'English') || 
                        (lang === 'tr' && btn.textContent === 'Türkçe')) {
                        btn.classList.add('active');
                    }
                });
            }
            
            if (lang === 'tr') {
                body.classList.add('turkish');
            } else {
                body.classList.remove('turkish');
            }
        }

        // Character count update function
        function updateCharCount(textarea) {
            const charCount = textarea.value.length;
            const countElement = textarea.parentElement.querySelector('.char-count');
            if (countElement) {
                countElement.textContent = `${charCount} characters`;
                
                if (charCount > 200) {
                    countElement.style.color = '#28a745';
                } else if (charCount > 100) {
                    countElement.style.color = '#ffc107';
                } else if (charCount > 0) {
                    countElement.style.color = '#fd7e14';
                } else {
                    countElement.style.color = '#666';
                }
            }
            updateProgress();
        }

        // Form ID generation
        function generateFormId() {
            const contractorName = document.getElementById('contractorName').value;
            const taxNumber = document.getElementById('taxNumber').value;
            
            if (contractorName && taxNumber) {
                if (!/^\d{10,11}$/.test(taxNumber)) {
                    alert('Tax Number must be 10-11 digits only / Vergi numarası sadece 10-11 rakam olmalıdır');
                    return;
                }
                
                const cleanName = contractorName.replace(/[^a-zA-Z0-9]/g, '').substring(0, 10);
                const timestamp = new Date().getTime();
                const formId = `FRM32-${cleanName}-${taxNumber}-${timestamp}`;
                return formId;
            }
        }

        // Progress tracking
        function updateProgress() {
            const totalFields = document.querySelectorAll('input[required], textarea[required]').length;
            let filledFields = 0;
            
            document.querySelectorAll('input[required]').forEach(input => {
                if (input.type === 'file') {
                    if (input.files && input.files.length > 0) filledFields++;
                } else if (input.value.trim() !== '') {
                    filledFields++;
                }
            });
            
            document.querySelectorAll('textarea[required]').forEach(textarea => {
                if (textarea.value.trim() !== '') filledFields++;
            });
            
            const percentage = Math.round((filledFields / totalFields) * 100);
            
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = percentage + '%';
            
            const progressFill = document.getElementById('progressFill');
            if (percentage < 30) {
                progressFill.style.background = 'linear-gradient(90deg, #dc3545, #fd7e14)';
            } else if (percentage < 70) {
                progressFill.style.background = 'linear-gradient(90deg, #ffc107, #fd7e14)';
            } else {
                progressFill.style.background = 'linear-gradient(90deg, #28a745, #20c997)';
            }
        }

        // Show loading overlay
        function showLoading() {
            document.getElementById('loadingOverlay').style.display = 'flex';
        }

        // Hide loading overlay
        function hideLoading() {
            document.getElementById('loadingOverlay').style.display = 'none';
        }

        // Show success message
        function showSuccess(formId) {
            document.getElementById('generatedFormId').textContent = formId;
            document.getElementById('generatedFormIdTr').textContent = formId;
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('errorMessage').style.display = 'none';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Show error message
        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.innerHTML = `
                <span class="lang-en">❌ Error: ${message}</span>
                <span class="lang-tr">❌ Hata: ${message}</span>
            `;
            errorDiv.style.display = 'block';
            document.getElementById('successMessage').style.display = 'none';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Submit form to Supabase
        async function submitToSupabase(formData) {
            try {
                console.log('Submitting to Supabase...', formData);

                const { data, error } = await supabase
                    .from('frm32_submissions')
                    .insert([formData])
                    .select();

                if (error) {
                    throw error;
                }

                console.log('Supabase submission successful:', data);
                return data[0];
            } catch (error) {
                console.error('Supabase submission error:', error);
                throw error;
            }
        }

        // Collect form data
        function collectFormData() {
            const formId = generateFormId();
            if (!formId) {
                throw new Error('Unable to generate Form ID. Please check contractor name and tax number.');
            }

            // Basic info
            const basicData = {
                form_id: formId,
                contractor_name: document.getElementById('contractorName').value,
                assessment_date: document.getElementById('assessmentDate').value,
                completed_by: document.getElementById('completedBy').value,
                tax_number: document.getElementById('taxNumber').value,
                submission_timestamp: new Date().toISOString(),
                form_version: 'FRM-0032-v2.0'
            };

            // Collect all question responses
            const questions = {};
            document.querySelectorAll('textarea[name^="question_"]').forEach(textarea => {
                const questionId = textarea.name;
                questions[questionId] = textarea.value.trim();
            });

            // Collect document upload info (file names only for this demo)
            const documents = {};
            for (let i = 1; i <= 18; i++) {
                const fileInput = document.getElementById(`doc${i}`);
                if (fileInput && fileInput.files && fileInput.files[0]) {
                    documents[`document_${i}`] = {
                        filename: fileInput.files[0].name,
                        size: fileInput.files[0].size,
                        type: fileInput.files[0].type,
                        uploaded: true
                    };
                } else {
                    documents[`document_${i}`] = {
                        uploaded: false
                    };
                }
            }

            return {
                ...basicData,
                questions_responses: questions,
                documents_info: documents,
                total_questions: Object.keys(questions).length,
                total_documents_uploaded: Object.values(documents).filter(doc => doc.uploaded).length
            };
        }

        // Form validation
        function validateForm() {
            const contractorName = document.getElementById('contractorName').value.trim();
            const taxNumber = document.getElementById('taxNumber').value.trim();
            const completedBy = document.getElementById('completedBy').value.trim();
            const assessmentDate = document.getElementById('assessmentDate').value;

            if (!contractorName) {
                throw new Error('Contractor name is required / Yüklenici firma adı gereklidir');
            }

            if (!taxNumber || !/^\d{10,11}$/.test(taxNumber)) {
                throw new Error('Valid tax number (10-11 digits) is required / Geçerli vergi numarası (10-11 rakam) gereklidir');
            }

            if (!completedBy) {
                throw new Error('Completed by field is required / Formu dolduran alanı gereklidir');
            }

            if (!assessmentDate) {
                throw new Error('Assessment date is required / Değerlendirme tarihi gereklidir');
            }

            // Check required documents (in a real implementation, you'd check for actual uploads)
            const requiredDocs = [1, 4, 6, 7, 8, 9, 10, 12, 13, 14, 15]; // Based on your form structure
            const missingDocs = [];
            
            requiredDocs.forEach(docNum => {
                const fileInput = document.getElementById(`doc${docNum}`);
                if (!fileInput || !fileInput.files || fileInput.files.length === 0) {
                    missingDocs.push(docNum);
                }
            });

            if (missingDocs.length > 0) {
                throw new Error(`Required documents missing: ${missingDocs.join(', ')} / Gerekli belgeler eksik: ${missingDocs.join(', ')}`);
            }

            return true;
        }

        // Initialize form
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('assessmentDate').value = today;
            
            // Initialize progress
            updateProgress();
            
            // Add event listeners for progress tracking
            document.querySelectorAll('input, textarea').forEach(element => {
                element.addEventListener('input', updateProgress);
                element.addEventListener('change', updateProgress);
            });

 // Form submission handler
document.getElementById('hseForm').addEventListener('submit', async function(e) {
    e.preventDefault(); // Önce default submit'i durdur
    
    try {
        showLoading();
        
        // Validate form
        validateForm();
        
        // Collect form data
        const formData = collectFormData();
        
        // ÖNCE Supabase'e kaydet (backup ve analytics için)
        const result = await submitToSupabase(formData);
        
        // SONRA n8n webhook'a gönder (asıl processing için)
        await submitToWebhook(formData);
        
        hideLoading();
        showSuccess(result.form_id);
        
        // Disable form after successful submission
        document.getElementById('hseForm').style.opacity = '0.6';
        document.getElementById('hseForm').style.pointerEvents = 'none';
        
    } catch (error) {
        console.error('Form submission error:', error);
        hideLoading();
        showError(error.message || 'Unknown error occurred');
    }
});

// Webhook submission function
        async function submitToWebhook(formData) {
            try {
                const formDataForWebhook = new FormData();
                
                // Basic form data
                Object.keys(formData).forEach(key => {
                    if (typeof formData[key] === 'object') {
                        formDataForWebhook.append(key, JSON.stringify(formData[key]));
                    } else {
                        formDataForWebhook.append(key, formData[key]);
                    }
                });
                
                const response = await fetch('https://9tml6o6w.rpcld.cc/webhook/submit-frm32', {
                    method: 'POST',
                    body: formDataForWebhook
                });
                
                if (!response.ok) {
                    throw new Error(`Webhook submission failed: ${response.status}`);
                }
                
                console.log('Webhook submission successful');
                return await response.json();
            } catch (error) {
                console.error('Webhook submission error:', error);
                throw error;
            }
        }

            // Test Supabase connection on page load
            testSupabaseConnection();
        });

        // Test Supabase connection
        async function testSupabaseConnection() {
            try {
                console.log('Testing Supabase connection...');
                const { data, error } = await supabase
                    .from('frm32_submissions')
                    .select('count', { count: 'exact', head: true });
                
                if (error) {
                    console.error('Supabase connection test failed:', error);
                } else {
                    console.log('✅ Supabase connection successful');
                }
            } catch (error) {
                console.error('Supabase connection test error:', error);
            }
        }

        // File upload handling (simplified version - in production you'd upload to Supabase Storage)
        function handleFileUpload(input, docNumber) {
            const fileInfo = document.getElementById(`fileInfo${docNumber}`);
            
            if (input.files && input.files[0]) {
                const file = input.files[0];
                const fileName = file.name;
                const fileSize = (file.size / 1024 / 1024).toFixed(2);
                const maxSize = 10; // 10MB limit
                
                // File size validation
                if (fileSize > maxSize) {
                    alert(`File size (${fileSize}MB) exceeds the ${maxSize}MB limit. Please choose a smaller file. / Dosya boyutu (${fileSize}MB) ${maxSize}MB limitini aşıyor. Lütfen daha küçük bir dosya seçin.`);
                    input.value = '';
                    return;
                }
                
                // File type validation
                const allowedTypes = ['pdf', 'doc', 'docx', 'jpg', 'jpeg', 'png'];
                const fileExtension = fileName.split('.').pop().toLowerCase();
                
                if (!allowedTypes.includes(fileExtension)) {
                    alert(`File type ".${fileExtension}" is not allowed. Please use: ${allowedTypes.join(', ')} / ".${fileExtension}" dosya türüne izin verilmiyor. Lütfen şunları kullanın: ${allowedTypes.join(', ')}`);
                    input.value = '';
                    return;
                }
                
                fileInfo.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div>
                            <strong>✅ File:</strong> ${fileName}<br>
                            <strong>Size:</strong> ${fileSize} MB<br>
                            <strong>Type:</strong> ${fileExtension.toUpperCase()}
                        </div>
                        <button type="button" onclick="removeFile('${docNumber}')" style="background: #dc3545; color: white; border: none; border-radius: 3px; padding: 4px 8px; cursor: pointer; font-size: 12px; margin-left: 10px;">✕</button>
                    </div>
                `;
                fileInfo.classList.add('show');
                fileInfo.style.color = '#155724';
                fileInfo.style.background = '#d4edda';
                
                updateProgress();
            } else {
                fileInfo.innerHTML = `
                    <span class="lang-en">No file</span>
                    <span class="lang-tr">Dosya yok</span>
                `;
                fileInfo.classList.remove('show');
                fileInfo.style.color = '#666';
                fileInfo.style.background = '#f8f9fa';
            }
        }

        // Remove file function
        function removeFile(docNumber) {
            const fileInput = document.getElementById(`doc${docNumber}`);
            const fileInfo = document.getElementById(`fileInfo${docNumber}`);
            
            fileInput.value = '';
            
            fileInfo.innerHTML = `
                <span class="lang-en">No file</span>
                <span class="lang-tr">Dosya yok</span>
            `;
            fileInfo.classList.remove('show');
            fileInfo.style.color = '#666';
            fileInfo.style.background = '#f8f9fa';
            
            updateProgress();
        }

        // Add document upload sections (simplified for demo)
        function addDocumentSections() {
            // This would normally include all 18 document upload sections
            // For this demo, we'll add just a few key ones
            const documentsHTML = `
                <div class="documents-section">
                    <h3>
                        <span class="lang-en">Required Documents</span>
                        <span class="lang-tr">Gerekli Belgeler</span>
                    </h3>
                    
                    <!-- Document 1 - HSE Policy (Required) -->
                    <div class="documents-grid">
                        <div class="document-item required">
                            <div class="document-header">
                                <div class="document-number">1</div>
                                <div class="document-title">
                                    <div class="document-title-main">
                                        <span class="lang-en">HSE Policy</span>
                                        <span class="lang-tr">İSGÇ Politikası</span>
                                    </div>
                                    <div class="document-status required">REQUIRED/ZORUNLU</div>
                                </div>
                            </div>
                            <div class="document-controls">
                                <input type="file" id="doc1" name="document_1" accept=".pdf,.doc,.docx,.jpg,.png" style="display: none;" onchange="handleFileUpload(this, 1)" required>
                                <button type="button" class="upload-btn" onclick="document.getElementById('doc1').click()">
                                    <span class="lang-en">📎 Upload</span>
                                    <span class="lang-tr">📎 Yükle</span>
                                </button>
                                <div class="file-info" id="fileInfo1">
                                    <span class="lang-en">No file</span>
                                    <span class="lang-tr">Dosya yok</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Add more documents as needed -->
                    </div>
                </div>
            `;
            
            // Insert after basic info section
            const basicInfo = document.querySelector('.basic-info');
            basicInfo.insertAdjacentHTML('afterend', documentsHTML);
        }

        // Initialize documents section
        // addDocumentSections(); // Uncomment to add document sections
    </script>
    
    <script>

        // Form ID generation
        function generateFormId() {
            const contractorName = document.getElementById('contractorName').value;
            const taxNumber = document.getElementById('taxNumber').value;
            
            if (contractorName && taxNumber) {
                // Validate TIN format
                if (!/^\d{10,11}$/.test(taxNumber)) {
                    alert('Tax Number must be 10-11 digits only / Vergi numarası sadece 10-11 rakam olmalıdır');
                    return;
                }
                
                const cleanName = contractorName.replace(/[^a-zA-Z0-9]/g, '');
                const formId = `HSE_${cleanName}_${taxNumber}_Rev0_${new Date().getFullYear()}`;
                document.getElementById('formId').value = formId;
                console.log('Generated Form ID:', formId);
            }
        }

        // File upload handling
        function handleFileUpload(input, docNumber) {
            const fileInfo = document.getElementById(`fileInfo${docNumber}`);
            
            if (input.files && input.files[0]) {
                const file = input.files[0];
                const fileName = file.name;
                const fileSize = (file.size / 1024 / 1024).toFixed(2);
                const maxSize = 10; // 10MB limit
                
                // File size validation
                if (fileSize > maxSize) {
                    alert(`File size (${fileSize}MB) exceeds the ${maxSize}MB limit. Please choose a smaller file. / Dosya boyutu (${fileSize}MB) ${maxSize}MB limitini aşıyor. Lütfen daha küçük bir dosya seçin.`);
                    input.value = '';
                    return;
                }
                
                // File type validation
                const allowedTypes = ['pdf', 'doc', 'docx', 'jpg', 'jpeg', 'png'];
                const fileExtension = fileName.split('.').pop().toLowerCase();
                
                if (!allowedTypes.includes(fileExtension)) {
                    alert(`File type ".${fileExtension}" is not allowed. Please use: ${allowedTypes.join(', ')} / ".${fileExtension}" dosya türüne izin verilmiyor. Lütfen şunları kullanın: ${allowedTypes.join(', ')}`);
                    input.value = '';
                    return;
                }
                
                fileInfo.innerHTML = `
    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
        <div>
            <strong>✅ File:</strong> ${fileName}<br>
            <strong>Size:</strong> ${fileSize} MB<br>
            <strong>Type:</strong> ${fileExtension.toUpperCase()}
        </div>
        <button type="button" onclick="removeFile('${docNumber}')" style="background: #dc3545; color: white; border: none; border-radius: 3px; padding: 4px 8px; cursor: pointer; font-size: 12px; margin-left: 10px;">✕</button>
    </div>
`;
                fileInfo.classList.add('show');
                fileInfo.style.color = '#155724';
                fileInfo.style.background = '#d4edda';
                
                updateProgress();
            } else {
                fileInfo.innerHTML = `
                    <span class="lang-en">No file</span>
                    <span class="lang-tr">Dosya yok</span>
                `;
                fileInfo.classList.remove('show');
                fileInfo.style.color = '#666';
                fileInfo.style.background = '#f8f9fa';
            }
        }

        // Remove file function
function removeFile(docNumber) {
    const fileInput = document.getElementById(`doc${docNumber}`);
    const fileInfo = document.getElementById(`fileInfo${docNumber}`);
    
    // Clear the file input
    fileInput.value = '';
    
    // Reset file info display
    fileInfo.innerHTML = `
        <span class="lang-en">No file</span>
        <span class="lang-tr">Dosya yok</span>
    `;
    fileInfo.classList.remove('show');
    fileInfo.style.color = '#666';
    fileInfo.style.background = '#f8f9fa';
    
    updateProgress();
}

        // Progress tracking
        function updateProgress() {
            const totalFields = document.querySelectorAll('input[required], textarea[required]').length;
            let filledFields = 0;
            
            // Count filled required fields
            document.querySelectorAll('input[required]').forEach(input => {
                if (input.type === 'file') {
                    if (input.files && input.files.length > 0) filledFields++;
                } else if (input.value.trim() !== '') {
                    filledFields++;
                }
            });
            
            document.querySelectorAll('textarea[required]').forEach(textarea => {
                if (textarea.value.trim() !== '') filledFields++;
            });
            
            const percentage = Math.round((filledFields / totalFields) * 100);
            
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = percentage + '%';
            
            // Change color based on progress
            const progressFill = document.getElementById('progressFill');
            if (percentage < 30) {
                progressFill.style.background = 'linear-gradient(90deg, #dc3545, #fd7e14)';
            } else if (percentage < 70) {
                progressFill.style.background = 'linear-gradient(90deg, #ffc107, #fd7e14)';
            } else {
                progressFill.style.background = 'linear-gradient(90deg, #28a745, #20c997)';
            }
        }

        // Form submission handling
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('assessmentDate').value = today;
            
            // Initialize progress
            updateProgress();
            
            // Add event listeners for progress tracking
            document.querySelectorAll('input, textarea').forEach(element => {
                element.addEventListener('input', updateProgress);
                element.addEventListener('change', updateProgress);
            });

            // Form submission
            document.getElementById('hseForm').addEventListener('submit', function(e) {
                // Generate form ID if not already generated
                generateFormId();
                
                // Add metadata
                const metadata = [
                    {name: 'submission_timestamp', value: new Date().toISOString()},
                    {name: 'total_questions', value: '80'},
                    {name: 'total_documents', value: '18'},
                    {name: 'form_version', value: 'FRM-0032-v2.0'}
                ];
                
                metadata.forEach(item => {
                    const input = document.createElement('input');
                    input.type = 'hidden';
                    input.name = item.name;
                    input.value = item.value;
                    this.appendChild(input);
                });
                
                // Show success message
                document.getElementById('successMessage').style.display = 'block';
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                console.log('HSE Assessment submitted successfully');
            });
        });
    </script>
<script>
(function () {
  const form = document.getElementById('hseForm');
  const overlay = document.getElementById('loadingOverlay');
  const successMessage = document.getElementById('successMessage');
  const errorMessage = document.getElementById('errorMessage');
  const progressFill = document.getElementById('progressFill');
  const progressText = document.getElementById('progressText');

  // Language toggle
  window.setLanguage = function(lang) {
    document.body.classList.toggle('turkish', lang === 'tr');
    document.querySelectorAll('.lang-btn').forEach(btn =>
      btn.classList.toggle('active', btn.textContent.trim().startsWith(lang === 'tr' ? 'Türkçe' : 'English'))
    );
  };

  // File upload label + simple size/type check
  window.handleFileUpload = function(input, idx) {
    const info = document.getElementById('fileInfo' + idx);
    if (!info) return;
    if (input.files && input.files[0]) {
      const f = input.files[0];
      const mb = (f.size/1024/1024).toFixed(2);
      info.textContent = `${f.name} (${mb} MB)`;
      info.classList.add('show');
    } else {
      info.textContent = document.body.classList.contains('turkish') ? 'Dosya yok' : 'No file';
      info.classList.remove('show');
    }
    updateProgress();
  };

  // Character counter for textareas
  window.updateCharCount = function(el) {
    const cc = el.parentElement.querySelector('.char-count');
    if (cc) cc.textContent = `${el.value.length} characters`;
    updateProgress();
  };

  // Simple Form ID based on TIN + date (customize as you like)
  window.generateFormId = function() {
    const tin = (document.getElementById('taxNumber')?.value || '').replace(/\D/g,'');
    const date = document.getElementById('assessmentDate')?.value || '';
    if (!tin || !date) return;
    const id = `FRM32-${tin}-${date.replaceAll('-','')}`;
    // If you later re-add a hidden input, set it here too:
    // document.getElementById('formId').value = id;
    document.getElementById('generatedFormId').textContent = id;
    document.getElementById('generatedFormIdTr').textContent = id;
  };

  // Progress calculation: required inputs, required file inputs, and required textareas filled
  function updateProgress() {
    const requiredFields = Array.from(form.querySelectorAll('[required]'));
    const total = requiredFields.length;
    let filled = 0;

    requiredFields.forEach(el => {
      if (el.type === 'file') {
        if (el.files && el.files.length > 0) filled++;
      } else if (el.type === 'checkbox' || el.type === 'radio') {
        const name = el.name;
        const group = form.querySelectorAll(`[name="${CSS.escape(name)}"]`);
        if (Array.from(group).some(g => g.checked)) filled++;
      } else if (el.value && el.value.trim() !== '') {
        filled++;
      }
    });

    const pct = total ? Math.round((filled / total) * 100) : 0;
    progressFill.style.width = pct + '%';
    progressText.textContent = pct + '%';
  }

  // Initial bind
  form.addEventListener('input', updateProgress);
  form.addEventListener('change', updateProgress);

  // Submit with overlay + fetch (keeps native multipart/form-data)
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    errorMessage.style.display = 'none';
    successMessage.style.display = 'none';
    overlay.style.display = 'flex';

    try {
      const fd = new FormData(form);
      // include a generated id if you want it in the payload
      const idText = document.getElementById('generatedFormId')?.textContent || '';
      if (idText) fd.append('form_id', idText);

      const res = await fetch(form.action, {
        method: 'POST',
        body: fd
      });

      if (!res.ok) throw new Error(`HTTP ${res.status}`);
      // If your webhook returns JSON with an id, you can parse & show it:
      let data = {};
      try { data = await res.json(); } catch (_) {}
      if (data.form_id) {
        document.getElementById('generatedFormId').textContent = data.form_id;
        document.getElementById('generatedFormIdTr').textContent = data.form_id;
      }
      successMessage.style.display = 'block';
      form.scrollIntoView({behavior: 'smooth'});
      form.reset();
      updateProgress();
    } catch (err) {
      errorMessage.style.display = 'block';
      console.error('Form submit failed:', err);
    } finally {
      overlay.style.display = 'none';
    }
  });

  // Kick off initial state
  updateProgress();
})();
</script>



</body>

</html>
